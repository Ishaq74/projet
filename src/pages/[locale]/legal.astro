---
// Legal Page
import Layout from '../../layouts/Layout.astro';
import { getLocaleFromUrl, loadTranslations, t } from '../../utils/i18n';
import type { Locale } from '../../types/i18n';

const locale = getLocaleFromUrl(Astro.url) as Locale;
const translations = await loadTranslations(locale);

const title = 'Mentions légales';
const description = 'Mentions légales et informations sur notre plateforme web.';
---

<Layout 
  title={title}
  description={description}
  locale={locale}
>
  <main class="legal-page">
    <div class="container">
      <div class="legal-content">
        <h1 class="legal-title">Mentions légales</h1>
        
        <div class="legal-sections">
          <section class="legal-section">
            <h2>Éditeur du site</h2>
            <div class="legal-info">
              <p><strong>Nom de l'entreprise :</strong> Votre Entreprise</p>
              <p><strong>Forme juridique :</strong> SAS au capital de 10 000€</p>
              <p><strong>Siège social :</strong> 123 Rue de la Technologie, 75001 Paris, France</p>
              <p><strong>RCS :</strong> Paris B 123 456 789</p>
              <p><strong>SIRET :</strong> 123 456 789 00012</p>
              <p><strong>TVA intracommunautaire :</strong> FR12 123456789</p>
              <p><strong>Téléphone :</strong> +33 1 23 45 67 89</p>
              <p><strong>Email :</strong> contact@votre-plateforme.com</p>
            </div>
          </section>
          
          <section class="legal-section">
            <h2>Directeur de la publication</h2>
            <div class="legal-info">
              <p><strong>Nom :</strong> Jean Dupont</p>
              <p><strong>Qualité :</strong> Président</p>
              <p><strong>Email :</strong> direction@votre-plateforme.com</p>
            </div>
          </section>
          
          <section class="legal-section">
            <h2>Hébergement</h2>
            <div class="legal-info">
              <p><strong>Hébergeur :</strong> Vercel Inc.</p>
              <p><strong>Adresse :</strong> 440 N Barranca Ave #4133, Covina, CA 91723, États-Unis</p>
              <p><strong>Site web :</strong> <a href="https://vercel.com" target="_blank" rel="noopener">vercel.com</a></p>
            </div>
          </section>
          
          <section class="legal-section">
            <h2>Propriété intellectuelle</h2>
            <div class="legal-content-text">
              <p>
                L'ensemble du contenu de ce site (textes, images, vidéos, logos, icônes, sons, etc.) 
                est protégé par les droits de propriété intellectuelle. Toute reproduction, 
                représentation, modification, publication, adaptation de tout ou partie des éléments 
                du site, quel que soit le moyen ou le procédé utilisé, est interdite, sauf autorisation 
                écrite préalable.
              </p>
              <p>
                Toute exploitation non autorisée du site ou de l'un quelconque des éléments qu'il 
                contient sera considérée comme constitutive d'une contrefaçon et poursuivie conformément 
                aux dispositions des articles L.335-2 et suivants du Code de Propriété Intellectuelle.
              </p>
            </div>
          </section>
          
          <section class="legal-section">
            <h2>Protection des données personnelles</h2>
            <div class="legal-content-text">
              <h3>Responsable du traitement</h3>
              <p>
                Votre Entreprise, en qualité de responsable du traitement, collecte et traite des 
                données personnelles vous concernant dans le cadre de l'utilisation de notre plateforme.
              </p>
              
              <h3>Finalités du traitement</h3>
              <p>Vos données personnelles sont collectées et traitées pour les finalités suivantes :</p>
              <ul>
                <li>Gestion de votre compte utilisateur</li>
                <li>Fourniture des services demandés</li>
                <li>Communication et support client</li>
                <li>Amélioration de nos services</li>
                <li>Envoi de newsletters (avec votre consentement)</li>
              </ul>
              
              <h3>Base légale</h3>
              <p>
                Le traitement de vos données personnelles est fondé sur votre consentement, 
                l'exécution d'un contrat ou nos intérêts légitimes selon les finalités.
              </p>
              
              <h3>Vos droits</h3>
              <p>
                Conformément au RGPD, vous disposez des droits suivants sur vos données personnelles :
              </p>
              <ul>
                <li>Droit d'accès</li>
                <li>Droit de rectification</li>
                <li>Droit à l'effacement</li>
                <li>Droit à la limitation du traitement</li>
                <li>Droit à la portabilité</li>
                <li>Droit d'opposition</li>
              </ul>
              <p>
                Pour exercer ces droits, contactez-nous à l'adresse : privacy@votre-plateforme.com
              </p>
            </div>
          </section>
          
          <section class="legal-section">
            <h2>Cookies</h2>
            <div class="legal-content-text">
              <p>
                Ce site utilise des cookies pour améliorer l'expérience utilisateur, analyser 
                l'audience et personnaliser le contenu. En continuant à naviguer sur ce site, 
                vous acceptez l'utilisation des cookies.
              </p>
              <p>
                Vous pouvez modifier les paramètres des cookies dans votre navigateur ou 
                utiliser notre gestionnaire de cookies pour personnaliser vos préférences.
              </p>
            </div>
          </section>
          
          <section class="legal-section">
            <h2>Responsabilité</h2>
            <div class="legal-content-text">
              <p>
                Les informations contenues sur ce site sont aussi précises que possible et le site 
                remis à jour à différentes périodes de l'année, mais peut toutefois contenir des 
                inexactitudes ou des omissions.
              </p>
              <p>
                L'utilisateur reconnaît utiliser ces informations sous sa responsabilité exclusive.
              </p>
            </div>
          </section>
          
          <section class="legal-section">
            <h2>Droit applicable</h2>
            <div class="legal-content-text">
              <p>
                Tout litige en relation avec l'utilisation du site est soumis au droit français. 
                Il est fait attribution exclusive de juridiction aux tribunaux compétents de Paris.
              </p>
            </div>
          </section>
          
          <section class="legal-section">
            <h2>Contact</h2>
            <div class="legal-content-text">
              <p>
                Pour toute question concernant ces mentions légales, vous pouvez nous contacter :
              </p>
              <ul>
                <li>Par email : legal@votre-plateforme.com</li>
                <li>Par téléphone : +33 1 23 45 67 89</li>
                <li>Par courrier : 123 Rue de la Technologie, 75001 Paris, France</li>
              </ul>
            </div>
          </section>
        </div>
        
        <div class="legal-footer">
          <p class="update-date">
            <em>Dernière mise à jour : {new Date().toLocaleDateString('fr-FR')}</em>
          </p>
        </div>
      </div>
    </div>
  </main>
</Layout>

<style>
  .legal-page {
    padding: var(--space-8) 0;
    min-height: 80vh;
  }
  
  .legal-content {
    max-width: 800px;
    margin: 0 auto;
  }
  
  .legal-title {
    font-size: var(--font-size-4xl);
    font-weight: var(--font-weight-bold);
    color: var(--text-primary);
    margin-bottom: var(--space-12);
    text-align: center;
  }
  
  .legal-sections {
    display: flex;
    flex-direction: column;
    gap: var(--space-12);
  }
  
  .legal-section {
    background: var(--bg-surface);
    border: 1px solid var(--border-primary);
    border-radius: var(--radius-lg);
    padding: var(--space-8);
  }
  
  .legal-section h2 {
    font-size: var(--font-size-2xl);
    font-weight: var(--font-weight-bold);
    color: var(--text-primary);
    margin-bottom: var(--space-6);
    padding-bottom: var(--space-3);
    border-bottom: 2px solid var(--color-primary-200);
  }
  
  .legal-section h3 {
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-semibold);
    color: var(--text-primary);
    margin: var(--space-6) 0 var(--space-3) 0;
  }
  
  .legal-info {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
  }
  
  .legal-info p {
    margin: 0;
    color: var(--text-secondary);
    line-height: var(--line-height-relaxed);
  }
  
  .legal-content-text {
    color: var(--text-secondary);
    line-height: var(--line-height-relaxed);
  }
  
  .legal-content-text p {
    margin-bottom: var(--space-4);
  }
  
  .legal-content-text ul {
    margin: var(--space-4) 0;
    padding-left: var(--space-6);
  }
  
  .legal-content-text li {
    margin-bottom: var(--space-2);
  }
  
  .legal-content-text a {
    color: var(--color-accent);
    text-decoration: none;
  }
  
  .legal-content-text a:hover {
    text-decoration: underline;
  }
  
  .legal-footer {
    margin-top: var(--space-16);
    padding-top: var(--space-8);
    border-top: 1px solid var(--border-primary);
    text-align: center;
  }
  
  .update-date {
    color: var(--text-muted);
    font-size: var(--font-size-sm);
    margin: 0;
  }
  
  @media (max-width: 768px) {
    .legal-title {
      font-size: var(--font-size-3xl);
    }
    
    .legal-section {
      padding: var(--space-6);
    }
    
    .legal-section h2 {
      font-size: var(--font-size-xl);
    }
  }
</style>