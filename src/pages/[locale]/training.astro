---
// Training Page
import Layout from '../../layouts/Layout.astro';
import { getLocaleFromUrl, loadTranslations, t } from '../../utils/i18n';
import type { Locale } from '../../types/i18n';

const locale = getLocaleFromUrl(Astro.url) as Locale;
const translations = await loadTranslations(locale);

const title = t(translations, 'nav.training');
const description = 'Formations professionnelles en d√©veloppement web moderne avec Astro, TypeScript et JavaScript.';

// Sample training courses
const courses = [
  {
    id: 1,
    title: 'Astro Fundamentals',
    description: 'Ma√Ætrisez les bases d\'Astro pour cr√©er des sites web ultra-rapides.',
    duration: '3 jours',
    level: 'D√©butant',
    price: '1200‚Ç¨',
    topics: ['Islands Architecture', 'Components', 'Routing', 'Content Collections'],
    nextDate: '15 Mars 2024'
  },
  {
    id: 2,
    title: 'TypeScript Avanc√©',
    description: 'Approfondissez TypeScript pour des applications robustes.',
    duration: '4 jours',
    level: 'Interm√©diaire',
    price: '1500‚Ç¨',
    topics: ['Types Avanc√©s', 'Generics', 'Decorators', 'Module Augmentation'],
    nextDate: '22 Mars 2024'
  },
  {
    id: 3,
    title: 'Full-Stack avec Astro',
    description: 'Cr√©ez des applications compl√®tes avec Astro et des APIs modernes.',
    duration: '5 jours',
    level: 'Avanc√©',
    price: '2000‚Ç¨',
    topics: ['SSR/SSG', 'Databases', 'Authentication', 'Deployment'],
    nextDate: '5 Avril 2024'
  }
];

const features = [
  'üë®‚Äçüíª Formateurs experts avec 10+ ans d\'exp√©rience',
  'üéØ Formations pratiques avec projets r√©els',
  'üìö Supports de cours et ressources inclus',
  'ü§ù Accompagnement post-formation de 3 mois',
  'üìú Certification officielle',
  'üíª Acc√®s √† notre plateforme d\'apprentissage'
];
---

<Layout 
  title={title}
  description={description}
  locale={locale}
>
  <main class="training-page">
    <div class="container">
      <!-- Hero Section -->
      <section class="hero-section">
        <h1 class="hero-title">{title}</h1>
        <p class="hero-description">
          D√©veloppez vos comp√©tences avec nos formations professionnelles en d√©veloppement web moderne.
          Formez-vous aux technologies d'avenir avec des experts du domaine.
        </p>
      </section>
      
      <!-- Features Section -->
      <section class="features-section">
        <h2 class="section-title">Pourquoi choisir nos formations ?</h2>
        <div class="features-grid">
          {features.map((feature) => (
            <div class="feature-item">
              {feature}
            </div>
          ))}
        </div>
      </section>
      
      <!-- Courses Section -->
      <section class="courses-section">
        <h2 class="section-title">Nos Formations</h2>
        <div class="courses-grid">
          {courses.map((course) => (
            <div class="course-card">
              <div class="course-header">
                <h3 class="course-title">{course.title}</h3>
                <div class="course-level">{course.level}</div>
              </div>
              
              <p class="course-description">{course.description}</p>
              
              <div class="course-details">
                <div class="course-detail">
                  <strong>Dur√©e:</strong> {course.duration}
                </div>
                <div class="course-detail">
                  <strong>Prochaine session:</strong> {course.nextDate}
                </div>
              </div>
              
              <div class="course-topics">
                <h4>Programme:</h4>
                <ul>
                  {course.topics.map((topic) => (
                    <li>{topic}</li>
                  ))}
                </ul>
              </div>
              
              <div class="course-footer">
                <div class="course-price">{course.price}</div>
                <a href={`/${locale}/contact?training=${course.id}`} class="btn btn-primary">
                  S'inscrire
                </a>
              </div>
            </div>
          ))}
        </div>
      </section>
      
      <!-- Custom Training CTA -->
      <section class="custom-training-section">
        <div class="custom-training-content">
          <h2 class="custom-training-title">Formation sur mesure</h2>
          <p class="custom-training-description">
            Vous avez des besoins sp√©cifiques ? Nous cr√©ons des formations personnalis√©es
            adapt√©es √† votre √©quipe et vos objectifs.
          </p>
          <div class="custom-training-benefits">
            <div class="benefit">‚úÖ Contenu adapt√© √† vos projets</div>
            <div class="benefit">‚úÖ Formation dans vos locaux ou √† distance</div>
            <div class="benefit">‚úÖ Suivi personnalis√©</div>
          </div>
          <a href={`/${locale}/contact?custom-training=true`} class="btn btn-secondary btn-lg">
            Demander un devis
          </a>
        </div>
      </section>
    </div>
  </main>
</Layout>

<style>
  .training-page {
    padding: var(--space-8) 0;
  }
  
  .hero-section {
    text-align: center;
    margin-bottom: var(--space-16);
  }
  
  .hero-title {
    font-size: var(--font-size-4xl);
    font-weight: var(--font-weight-bold);
    color: var(--text-primary);
    margin-bottom: var(--space-6);
  }
  
  .hero-description {
    font-size: var(--font-size-xl);
    color: var(--text-secondary);
    max-width: 700px;
    margin: 0 auto;
    line-height: var(--line-height-relaxed);
  }
  
  .section-title {
    font-size: var(--font-size-3xl);
    font-weight: var(--font-weight-bold);
    color: var(--text-primary);
    text-align: center;
    margin-bottom: var(--space-12);
  }
  
  .features-section {
    margin-bottom: var(--space-16);
  }
  
  .features-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: var(--space-6);
  }
  
  .feature-item {
    background: var(--bg-surface);
    border: 1px solid var(--border-primary);
    border-radius: var(--radius-base);
    padding: var(--space-6);
    text-align: center;
    font-size: var(--font-size-lg);
    color: var(--text-secondary);
  }
  
  .courses-section {
    margin-bottom: var(--space-16);
  }
  
  .courses-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: var(--space-8);
  }
  
  .course-card {
    background: var(--bg-surface);
    border: 1px solid var(--border-primary);
    border-radius: var(--radius-lg);
    padding: var(--space-8);
    transition: var(--transition-all);
    height: 100%;
    display: flex;
    flex-direction: column;
  }
  
  .course-card:hover {
    box-shadow: var(--shadow-lg);
    transform: translateY(-2px);
  }
  
  .course-header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: var(--space-4);
  }
  
  .course-title {
    font-size: var(--font-size-2xl);
    font-weight: var(--font-weight-bold);
    color: var(--text-primary);
    margin: 0;
    flex: 1;
  }
  
  .course-level {
    background: var(--color-primary-100);
    color: var(--color-primary-700);
    padding: var(--space-1) var(--space-3);
    border-radius: var(--radius-base);
    font-size: var(--font-size-sm);
    font-weight: var(--font-weight-medium);
    margin-left: var(--space-4);
  }
  
  .course-description {
    color: var(--text-secondary);
    line-height: var(--line-height-relaxed);
    margin-bottom: var(--space-6);
  }
  
  .course-details {
    display: flex;
    flex-direction: column;
    gap: var(--space-2);
    margin-bottom: var(--space-6);
  }
  
  .course-detail {
    color: var(--text-secondary);
    font-size: var(--font-size-sm);
  }
  
  .course-topics {
    margin-bottom: var(--space-8);
    flex: 1;
  }
  
  .course-topics h4 {
    font-size: var(--font-size-lg);
    font-weight: var(--font-weight-medium);
    color: var(--text-primary);
    margin-bottom: var(--space-3);
  }
  
  .course-topics ul {
    list-style: none;
    padding: 0;
    margin: 0;
  }
  
  .course-topics li {
    padding: var(--space-1) 0;
    color: var(--text-secondary);
    position: relative;
    padding-left: var(--space-5);
  }
  
  .course-topics li::before {
    content: '‚úì';
    position: absolute;
    left: 0;
    color: var(--color-success-500);
    font-weight: var(--font-weight-bold);
  }
  
  .course-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding-top: var(--space-6);
    border-top: 1px solid var(--border-primary);
    margin-top: auto;
  }
  
  .course-price {
    font-size: var(--font-size-2xl);
    font-weight: var(--font-weight-bold);
    color: var(--color-accent);
  }
  
  .custom-training-section {
    background: var(--bg-secondary);
    border-radius: var(--radius-lg);
    padding: var(--space-12);
    text-align: center;
  }
  
  .custom-training-title {
    font-size: var(--font-size-3xl);
    font-weight: var(--font-weight-bold);
    color: var(--text-primary);
    margin-bottom: var(--space-4);
  }
  
  .custom-training-description {
    font-size: var(--font-size-lg);
    color: var(--text-secondary);
    max-width: 600px;
    margin: 0 auto var(--space-8) auto;
    line-height: var(--line-height-relaxed);
  }
  
  .custom-training-benefits {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: var(--space-4);
    margin-bottom: var(--space-8);
  }
  
  .benefit {
    background: var(--bg-surface);
    padding: var(--space-4);
    border-radius: var(--radius-base);
    font-weight: var(--font-weight-medium);
    color: var(--text-primary);
  }
  
  @media (max-width: 768px) {
    .hero-title {
      font-size: var(--font-size-3xl);
    }
    
    .courses-grid {
      grid-template-columns: 1fr;
    }
    
    .course-header {
      flex-direction: column;
      gap: var(--space-3);
    }
    
    .course-level {
      margin-left: 0;
      align-self: flex-start;
    }
    
    .course-footer {
      flex-direction: column;
      gap: var(--space-4);
    }
  }
</style>