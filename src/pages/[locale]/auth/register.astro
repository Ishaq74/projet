---
// Register Page
import Layout from '../../../layouts/Layout.astro';
import AuthForm from '../../../components/auth/AuthForm.astro';
import { getLocaleFromUrl, loadTranslations, t } from '../../../utils/i18n';
import type { Locale } from '../../../types/i18n';

const locale = getLocaleFromUrl(Astro.url) as Locale;
const translations = await loadTranslations(locale);

const title = t(translations, 'auth.register');
const description = 'Créez votre compte pour rejoindre notre plateforme et accéder à tous nos contenus.';
---

<Layout 
  title={title}
  description={description}
  locale={locale}
>
  <AuthForm 
    locale={locale}
    type="register"
    title={title}
    submitText={t(translations, 'auth.register')}
    extraFields={true}
    redirectTo={Astro.url.searchParams.get('redirectTo') || `/${locale}/`}
  />
</Layout>