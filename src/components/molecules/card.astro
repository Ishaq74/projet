---
// Card molecule component
import type { HTMLAttributes } from 'astro/types';

export interface Props extends HTMLAttributes<'div'> {
  variant?: 'default' | 'elevated' | 'outlined';
  padding?: 'none' | 'sm' | 'md' | 'lg';
  hoverable?: boolean;
  clickable?: boolean;
  class?: string;
}

const {
  variant = 'default',
  padding = 'md',
  hoverable = false,
  clickable = false,
  class: className = '',
  ...rest
} = Astro.props;

const classes = [
  'card',
  `card--${variant}`,
  `card--padding-${padding}`,
  hoverable && 'card--hoverable',
  clickable && 'card--clickable',
  className
].filter(Boolean).join(' ');
---

<div class={classes} {...rest}>
  <slot />
</div>

<style>
  .card {
    background-color: var(--bg-surface);
    border-radius: var(--radius-lg);
    transition: var(--transition-all);
    position: relative;
    overflow: hidden;
  }

  /* Variant styles */
  .card--default {
    border: 1px solid var(--border-primary);
  }

  .card--elevated {
    box-shadow: var(--shadow-md);
    border: 1px solid transparent;
  }

  .card--outlined {
    border: 2px solid var(--border-primary);
    box-shadow: none;
  }

  /* Padding variants */
  .card--padding-none {
    padding: 0;
  }

  .card--padding-sm {
    padding: var(--space-4);
  }

  .card--padding-md {
    padding: var(--space-6);
  }

  .card--padding-lg {
    padding: var(--space-8);
  }

  /* Interactive states */
  .card--hoverable:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-lg);
  }

  .card--clickable {
    cursor: pointer;
  }

  .card--clickable:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-lg);
  }

  .card--clickable:active {
    transform: translateY(-1px);
    box-shadow: var(--shadow-md);
  }

  /* Focus styles for accessibility */
  .card--clickable:focus-within {
    outline: 2px solid var(--border-focus);
    outline-offset: 2px;
  }

  /* Dark theme adjustments */
  [data-theme="dark"] .card--elevated {
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -2px rgba(0, 0, 0, 0.3);
  }

  [data-theme="dark"] .card--hoverable:hover,
  [data-theme="dark"] .card--clickable:hover {
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.4), 0 4px 6px -4px rgba(0, 0, 0, 0.4);
  }

  /* Responsive adjustments */
  @media (max-width: 768px) {
    .card--padding-md {
      padding: var(--space-5);
    }

    .card--padding-lg {
      padding: var(--space-6);
    }
  }
</style>